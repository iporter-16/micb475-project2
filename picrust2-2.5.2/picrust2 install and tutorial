picrust2 install and tutorial

#installing PICRUSt2 from source (manually)
#Make sure you are in the location that you want to install PICRUSt2
 
wget https://github.com/picrust/picrust2/archive/v2.5.2.tar.gz	#This line downloads the PICRUSt2 tool as a compressed file to your current directory
tar xvzf  v2.5.2.tar.gz	# Decompress the file
cd picrust2-2.5.2/	#Enter the picrust2 directory


conda env create -f picrust2-env.yaml	#create the conda environment with some modifications from the picrust2-env.yaml file. This can take up to 30mins.
conda activate picrust2		#Activate the environment
pip install --editable .	#Install PICRUSt2

pytest		#Run a test with sample data to make sure it is working!
			#If your test passes with 59/60 tests successful, we will ingore the failed test and move forward.




#To Run, we need these files:

									
									#seqs.fna	 (The rep-seqs.qza file)
									#table.biom	 (the table.qza*)


* - filter the table.qza to remove all the features with 5 or lower counts. This will make the PICRUSt2 analysis much faster.
							qiime feature-table filter-features \
							  --i-table table.qza \
							  --p-min-frequency 5 \
							  --o-filtered-table feature-frequency-filtered-table.qza
							  
							  
							  
#Running PICRUSt2 Analysis!
#First, make sure you are in the picrust2-2.5.2/ folder.

picrust2_pipeline.py -s path/to/study_seqs.fna -i path/to/study_seqs.biom -o picrust2_out_pipeline -p 1 	#This will 30-60 mins depending on your dataset.

qiime tools export --input-path rep-seqs.qza --output-path imo-rep-seqs

#For details on what this single line of code is doing, see https://github.com/picrust/picrust2/wiki/PICRUSt2-Tutorial-(v2.5.2)#minimum-requirements-to-run-full-tutorial


#We will use a new package called ggpicrust2 (https://github.com/cafferychen777/ggpicrust2)
#to analysis our data and generate figures.
#Tutorial on this package and how to run can be found here: https://github.com/cafferychen777/ggpicrust2

